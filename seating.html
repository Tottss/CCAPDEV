<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Lab Reservation Login</title>

        <!--tailwind CSS via CDN (for prototyping only)-->
        <script src="https://cdn.tailwindcss.com"></script>
    </head>

    <body class="bg-gray-100">
    <!-- header -->
    <header class="h-24 text-white p-8 flex justify-between items-center" style="background-color: #133301;">
        <h1 class="text-4xl">
            <span class="font-bold">LAB</span><span class="font-extralight">RESERVATION</span>
        </h1>

        <nav class="space-x-40">
            <a href="main.html" class="hover:underline text-2xl ml-10">Reserve Seat</a>
            <a href="view_reservation.html" class="hover:underline text-2xl mr-10">Your Reservations</a>
        </nav>

        <div class="flex items-center space-x-4">
            <a href="profile.html">
                <img src="user.jpg" alt="User" class="w-20 h-20 rounded-full hover:opacity-80 cursor-pointer" />
            </a>
            <a href="login.html" title="Logout" class="ml-4">
                <img src="logout.png" alt="Logout" class="w-6 h-6 hover:opacity-80 cursor-pointer" />
            </a>
        </div>
    </header>

        <main class="container mx-auto px-4 py-8 flex flex-col md:flex-row gap-8 items-center min-h-[calc(100vh-12rem)]">

            <div class="bg-white rounded-lg shadow-md p-8 md:w-1/3"> <!--reservation details-->
                <h2 class="text-3xl font-bold mb-6">Reservation Details</h2>
                <div class="space-y-6 text-xl">
                    <div>
                        <label class="block text-lg font-medium text-gray-700">Date</label>
                        <p id="reservation-date" class="mt-2 text-xl">June 18, 2025</p>
                    </div>

                    <div>
                        <label class="block text-lg font-medium text-gray-700">Time</label>
                        <p id="reservation-time" class="mt-2 text-xl">9:00 AM - 11:00 AM</p>
                    </div>

                    <div>
                        <label class="block text-lg font-medium text-gray-700">Room Number</label>
                        <p id="reservation-room" class="mt-2 text-xl">G302A</p>
                    </div>

                    <div>
                        <label class="block text-lg font-medium text-gray-700">Professor</label>
                        <p id="reservation-professor" class="mt-2 text-xl">Danny Cheng</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-10 flex-1 flex flex-col justify-center">
                <h2 class="text-2xl font-bold mb-10">Select your Seat</h2>
                <div class="flex justify-center">
                    <div class="space-y-4 scale-100 transform origin-center"> <!--seat layout-->
                        <!--row 1-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="A1">A1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="A2">A2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="A3">A3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="A4">A4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="A5">A5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="A6">A6</button>
                            </div>
                        </div>

                        <!--row 2-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="B1">B1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="B2">B2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="B3">B3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="B4">B4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="B5">B5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="B6">B6</button>
                            </div>
                        </div>

                        <!--aisle space-->
                        <div class="h-8"></div>

                        <!--row 3-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="C1">C1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="C2">C2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="C3">C3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="C4">C4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="C5">C5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="C6">C6</button>
                            </div>
                        </div>

                        <!--row 4-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="D1">D1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="D2">D2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="D3">D3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="D4">D4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="D5">D5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="D6">D6</button>
                            </div>
                        </div>

                        <!--aisle space-->
                        <div class="h-8"></div>

                        <!--row 5-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="E1">E1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="E2">E2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="E3">E3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="E4">E4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="E5">E5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="E6">E6</button>
                            </div>
                        </div>

                        <!--row 6-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="F1">F1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="F2">F2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="F3">F3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="F4">F4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="F5">F5</button>
                                <div class="w-14 h-14 invisible"></div> <!--invisible placeholder-->
                            </div>
                        </div>
                        <div class="flex justify-center mt-8">
                            <button id="reserveButton" class="mt-10 bg-green-900 hover:bg-green-800 text-white px-6 py-2 rounded-lg text-lg font-medium">Reserve</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <script>
            const seats = document.querySelectorAll('button');
            const selectedSeats = new Set();
            
            seats.forEach(button => {
                if (button.id !== 'reserveButton') {
                    button.addEventListener('click', () => {
                        // toggle seat selection
                        button.classList.toggle('bg-green-800');
                        button.classList.toggle('text-white');

                        if (button.classList.contains('bg-green-800')) {
                            selectedSeats.add(button.id); // add selected seats
                        }
                        else {
                            selectedSeats.delete(button.id);  // remove seats
                        }
                    });
                }
            });

            document.getElementById('reserveButton').addEventListener('click', () => {
                if (selectedSeats.size === 0) {
                    alert("Please select at least one seat.");
                    return;
                }

                const lab = "G202";
                const time = "0815 - 0845";
                const date = "2025-06-18";

                const seatsString = Array.from(selectedSeats).join(', '); // convert set to comma-separated string

                const query = new URLSearchParams({
                    lab,
                    time,
                    date,
                    seats: seatsString
                }).toString();

                window.location.href = `main.html?${query}`;
            });
        </script>
    </body>
</html>