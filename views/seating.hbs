<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Lab Reservation Login</title>

        <!--tailwind CSS via CDN (for prototyping only)-->
        <script src="https://cdn.tailwindcss.com"></script>
    </head>

    <body class="bg-gray-100">
    <!-- header -->
    {{> header}}

        <main class="container mx-auto px-4 py-8 flex flex-col md:flex-row gap-8 items-center min-h-[calc(100vh-12rem)]">

            <div class="bg-white rounded-lg shadow-md p-8 md:w-1/3"> <!--reservation details-->
                <h2 class="text-3xl font-bold mb-6">Reservation Details</h2>
                <div class="space-y-6 text-xl">
                    <div>
                        <label class="block text-lg font-medium text-gray-700">Date</label>
                        <p id="reservation-date" class="mt-2 text-xl">June 18, 2025</p>
                    </div>

                    <div>
                        <label class="block text-lg font-medium text-gray-700">Time</label>
                        <p id="reservation-time" class="mt-2 text-xl">9:00 AM - 11:00 AM</p>
                    </div>

                    <div>
                        <label class="block text-lg font-medium text-gray-700">Room Number</label>
                        <p id="reservation-room" class="mt-2 text-xl">G302A</p>
                    </div>

                    <!-- <div>
                        <label class="block text-lg font-medium text-gray-700">Professor</label>
                        <p id="reservation-professor" class="mt-2 text-xl">Danny Cheng</p>
                    </div> -->
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-10 flex-1 flex flex-col justify-center">
                <h2 class="text-2xl font-bold mb-10">Select your Seat</h2>
                <div class="flex justify-center">
                    <div class="space-y-4 scale-100 transform origin-center"> <!--seat layout-->
                        <!--row 1-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="1">A1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="2">A2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="3">A3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="4">A4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="5">A5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="6">A6</button>
                            </div>
                        </div>

                        <!--row 2-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="7">B1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="8">B2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="9">B3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="10">B4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="11">B5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="12">B6</button>
                            </div>
                        </div>

                        <!--aisle space-->
                        <div class="h-8"></div>

                        <!--row 3-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="13">C1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="14">C2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="15">C3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="16">C4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="17">C5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="18">C6</button>
                            </div>
                        </div>

                        <!--row 4-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="19">D1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="20">D2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="21">D3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="22">D4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="23">D5</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="24">D6</button>
                            </div>
                        </div>

                        <!--aisle space-->
                        <div class="h-8"></div>

                        <!--row 5-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="25">E1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="26">E2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="27">E3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="28">E4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="29">29</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="30">30</button>
                            </div>
                        </div>

                        <!--row 6-->
                        <div class="flex justify-center gap-16">
                            <!--group 1-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="31">F1</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="32">F2</button>
                            </div>

                            <!--group 2-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="33">F3</button>
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="34">F4</button>
                            </div>

                            <!--group 3-->
                            <div class="flex gap-2">
                                <button class="w-14 h-14 bg-gray-300 rounded hover:bg-gray-400" id="35">F5</button>
                                <div class="w-14 h-14 invisible"></div> <!--invisible placeholder-->
                            </div>
                        </div>
                        <div class="flex justify-center mt-8">
                            <button id="reserveButton" class="mt-10 bg-green-900 hover:bg-green-800 text-white px-6 py-2 rounded-lg text-lg font-medium">Reserve</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <script src="seating.js"></script>
        <!-- <script>
            const seats = document.querySelectorAll('button');
            const selectedSeats = new Set();

            // const reservationData = {
            //     'A5': {name: 'Alice Santos'},
            //     'A6': {name: 'Bob Reyes'},
            //     'C1': {name: 'Charlie Cruz'},
            //     'C2': {name: 'Anonymous'},
            //     'F2': {name: 'Anonymous'}
            // };
            
            seats.forEach(button => {
                if (button.id !== 'reserveButton') {
                    // mark the already reserved seats
                    if (reservationData[button.id]) {
                        button.classList.add('bg-red-500', 'text-white', 'cursor-pointer');

                        button.addEventListener('click', (e) => {
                            e.preventDefault();
                            const details = reservationData[button.id];
                            alert(`Reserved by: ${details.name}`)
                        })
                    }

                    else {
                        button.addEventListener('click', () => {
                            // toggle seat selection
                            button.classList.toggle('bg-green-800');
                            button.classList.toggle('text-white');

                            if (button.classList.contains('bg-green-800')) {
                                selectedSeats.add(button.id); // add selected seats
                            }
                            else {
                                selectedSeats.delete(button.id);  // remove seats
                            }
                        });
                    }
                }
            });

            // document.getElementById('reserveButton').addEventListener('click', () => {
            //     if (selectedSeats.size === 0) {
            //         alert("Please select at least one available seat.");
            //         return;
            //     }

            //     const lab = "G202";
            //     const time = "0815 - 0845";
            //     const date = "2025-06-18";

            //     const seatsString = Array.from(selectedSeats).join(', '); // convert set to comma-separated string

            //     const query = new URLSearchParams({
            //         lab,
            //         time,
            //         date,
            //         seats: seatsString
            //     }).toString();

            //     window.location.href = `main.html?${query}`;
            // });
        </script> -->
    </body>
</html>